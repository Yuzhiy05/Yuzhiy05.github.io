import{_ as i,c as a,b as n,o as l}from"./app-BKjZcyMZ.js";const h={};function k(t,s){return l(),a("div",null,s[0]||(s[0]=[n(`<p>我的工具链比较特殊 使用clang 和 微软的STL标准库 系统跟手动指定链接器使用lld 构建系统用ninja</p><h2 id="boost" tabindex="-1"><a class="header-anchor" href="#boost"><span>boost</span></a></h2><p>1.在boost页面下载源码,解压 2.点击booststrap.bat执行脚本，生成b2.exe 3.执行命令行中执行</p><div class="language-powershell line-numbers-mode" data-ext="powershell" data-title="powershell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">//</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">这个在win下用vs工具链构建的vc140库不能给clang </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">target</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">x86_64</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">windows</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">msvc用</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">b2 install </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">prefix</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">D:\\workfile\\lib\\boost  </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">build-type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">complete </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">with</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">regex address</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">model</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">64</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> link</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> static</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> runtime</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">link</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">shared</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">//</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">这个不能生成.lib导出库 被cmake IMPORTED_IMPLIB not set </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">for</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> imported target </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Boost::regex</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> configuration</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Debug</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 拒绝</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">b2 install </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">prefix</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">D:\\workfile\\lib\\boost1.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">88</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">clang</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">14</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> --</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">build-type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">complete toolset</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">clang address</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">model</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">64</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> link</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">shared runtime</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">link</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">shared </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">with</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">system </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">with</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">regex </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">define</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">BOOST_USE_WINDOWS_H</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">BOOST_REGEX_STANDALONE</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">REGEX_FOUND</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">BOOST_REGEX_DYN_LINK  cxxflags</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">--target=x86_64-windows-msvc -std=c++14 --sysroot=..\\\\windows-msvc-sysroot</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> linkflags</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">--target=x86_64-windows-msvc --sysroot=..\\\\windows-msvc-sysroot -fuse-ld=lld —D_DLL=1 -lmsvcrt</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">b2 install </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">prefix</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">D:\\workfile\\lib\\boost1.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">89</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">clang </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">build-type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">complete </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">with</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">regex </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">with</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">system toolset</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">clang  address</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">model</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">64</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> cxxflags</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">--target=x86_64-windows-msvc -std=c++23</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> linkflags</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">--target=x86_64-windows-msvc --sysroot=..\\\\windows-msvc-sysroot -fuse-ld=lld —D_DLL=1 -lmsvcrt</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> define</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">BOOST_USE_WINDOWS_H </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">DBOOST_REGEX_STANDALONE</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">on link</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">shared runtime</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">link</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">shared</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">//</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">测试的参数</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">define</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">BOOST_USE_WINDOWS_H  </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">D_DLL </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">lmsvcrt variant</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">release</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">debug target</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">os</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">windows</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">b2 install </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">prefix</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">D:\\workfile\\lib\\boost1.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">88</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">clang </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">build-type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">complete </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">with</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">system </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">with</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">regex toolset</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">clang  address</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">model</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">64</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  cxxflags</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">--target=x86_64-windows-msvc -std=c++23</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> linkflags</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> --sysroot=..\\\\windows-msvc-sysroot</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> link</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">shared runtime</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">link</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">shared</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">//</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">这两个用clang</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">cl生成的用不了</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">b2 install </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">prefix</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">D:\\workfile\\lib\\boost</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">clang</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">win </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">build-type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">complete </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">with</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">regex </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">with</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">system toolset</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">clang</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">win  address</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">model</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">64</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  cxxflags</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">--target=x86_64-windows-msvc /std:c++latest /Zc:__cplusplus</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> define</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">BOOST_USE_WINDOWS_H link</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">shared runtime</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">link</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">shared</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">//</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 这个能生成导入库 用的clang</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">windows</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">gnu 后面一点参数不能跟</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">b2 install </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">prefix</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">D:\\workfile\\lib\\boost1.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">87</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">clang </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">build-type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">complete </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">with</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">system </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">with</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">regex toolset</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">clang  address</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">model</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">64</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>因为cmake冲突我还手动把库里所有clang21 改为clangw21</p><p>prefix:指定安装路径 with:指定安装的库 link:被编译库链接方式 runtime-link:被编译库与其他库的关系。 例如被编译的库为A,A依赖库B ，我的程序C依赖A</p><p>|-----|-----|——————| |link:static<br>runtime-link=static|C静态链接A(C包含A.lib),A静态链接B|只需要C即可| |link:static<br>runtime-link=shared|C静态链接A(C包含A.lib),A动态链接B|C和B.so/B.dll| |link:shared<br>runtime-link=shared|C动态链接A,A动态链接B|C和B.so/B.dll和A.so/A.dll| |link:shared<br>runtime-link=static|C动态链接A,A静态链接B|C和A.so/A.dll(此项可能不能允许)|</p><p>A.Windows上lib前缀的为静态链接库,导入库和dll没有</p><p>4.在cmake中使用find_packge引用</p><div class="language-shell" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">./b2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --prefix=D:\\workfile\\lib\\boost-clang</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --build-type=complete</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --with-system</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --with-regex</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> toolset=clang</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  address-model=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">64</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  cxxflags=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">--target=x86_64-windows-msvc -std=c++23</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> linkflags=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">--target=x86_64-windows-msvc --sysroot=...</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\\\</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">windows-msvc-sysroot -fuse-ld=lld</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> link=shared</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> runtime-link=shared</span></span></code></pre></div><p>1.单纯指定 cxxstd=14 等级低于17 不加define=BOOST_REGEX_DYN_LINK 是没有.lib 导出库的 2.指定cxxstd=14 添加define=BOOST_REGEX_DYN_LINK 没有.lib 导出库 3.2的基础上加 define=BOOST_REGEX_STANDALONE 没有.lib导出库 4.使用-std=c++03 define=BOOST_REGEX_DYN_LINK</p><p>BOOST_REGEX_STANDALONE,BOOST_REGEX_DYN_LINK</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">PS</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> D:..</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\l</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">i</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">b</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> llvm-objdump</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> boost_regex-clang21-mt-d-x64-1_88.dll</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">..</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">.其他符号.</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">..</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Export</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Table:</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> DLL</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> name:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> boost_regex-clang21-mt-d-x64-1_88.dll</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> Ordinal</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> base:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> Ordinal</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">      RVA</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  Name</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">       1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   0x2140</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  _ZN5boost24scoped_static_mutex_lock4lockEv</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">       2</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   0x2200</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  _ZN5boost24scoped_static_mutex_lock6unlockEv</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">       3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   0x20f0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  _ZN5boost24scoped_static_mutex_lockC1ERNS_12static_mutexEb</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">       4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   0x20f0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  _ZN5boost24scoped_static_mutex_lockC2ERNS_12static_mutexEb</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">       5</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   0x21c0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  _ZN5boost24scoped_static_mutex_lockD1Ev</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">       6</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   0x21c0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  _ZN5boost24scoped_static_mutex_lockD2Ev</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">       7</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0x6c2f8</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  _ZTVN5boost13re_detail_50023abstract_protected_callE</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">       8</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   0x1470</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  regcompA</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">       9</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   0x2240</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  regcompW</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">      10</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   0x1800</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  regerrorA</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">      11</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   0x25d0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  regerrorW</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">      12</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   0x1c30</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  regexecA</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">      13</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   0x29c0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  regexecW</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">      14</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   0x17a0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  regfreeA</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">      15</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   0x2570</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  regfreeW</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 使用dumpbin查看vc生成的dll</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">PS</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> D:..</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\b</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">oost</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\l</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">i</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">b</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dumpbin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /EXPORTS</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  boost_regex-vc143-mt-gd-x64-1_87.dll</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Microsoft</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (R) COFF/PE Dumper Version 14.44.35207.1</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Copyright</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (C) Microsoft Corporation.  All rights reserved.</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Dump</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> of</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> file</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> boost_regex-vc143-mt-gd-x64-1_87.dll</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">File</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Type:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> DLL</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  Section</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> contains</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> the</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> following</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> exports</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> for</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> boost_regex-vc143-mt-gd-x64-1_87.dll</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    00000000</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> characteristics</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    FFFFFFFF</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> time</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> date</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> stamp</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        0.00</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> version</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">           1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ordinal</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> base</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">           8</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> number</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> of</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> functions</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">           8</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> number</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> of</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> names</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    ordinal</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> hint</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> RVA</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">      name</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">          1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 00001000</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> regcompA</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> =</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> regcompA</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">          2</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 00037F50</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> regcompW</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> =</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> regcompW</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">          3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    2</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 00001290</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> regerrorA</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> =</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> regerrorA</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">          4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    3</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 000381E0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> regerrorW</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> =</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> regerrorW</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">          5</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    4</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 000015F0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> regexecA</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> =</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> regexecA</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">          6</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    5</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 00038560</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> regexecW</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> =</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> regexecW</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">          7</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    6</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 00001950</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> regfreeA</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> =</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> regfreeA</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">          8</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    7</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 000388C0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> regfreeW</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> =</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> regfreeW</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  Summary</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        2000</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .data</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        A000</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .pdata</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">       1A000</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .rdata</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        1000</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .reloc</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        1000</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .rsrc</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">       B8000</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .text</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>✅这个试了可以 把 系统根之类的写cxxflag里</p><div class="language-powershell" data-ext="powershell" data-title="powershell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">b2 install </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">prefix</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">D:\\workfile\\lib\\boost1.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">89</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">clang </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">build-type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">complete </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">with</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">regex toolset</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">clang  address</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">model</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">64</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> cxxflags</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">--target=x86_64-windows-msvc -std=c++20 -fuse-ld=lld --sysroot=..\\\\windows-msvc-sysroot</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> linkflags</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">--target=x86_64-windows-msvc --sysroot=..\\\\windows-msvc-sysroot -fuse-ld=lld -lmsvcrt -D_DLL=1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> -</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">DBOOST_REGEX_STANDALONE</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">on link</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">shared runtime</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">link</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">shared</span></span></code></pre></div><p>regex这个库比较特殊 因为用到了system中表示boost::err_code 所以需要编译成动态库 但是可以通过 -DBOOST_REGEX_STANDALONE=on 使用独立模式减掉这个依赖 从而当头文件库使用。</p><p>所以头文件库的话cmake里需要 <code>target_include_directories(boost_test PUBLIC \${Boost_INCLUDE_DIRS})</code> 而不是 <code>target_link_libraries(boost_test PRIVATE Boost::regex)</code></p><p>独立模式下Regex使用b2编译完只有dll没有lib 所以 用target_link_libraries报错configcmake根本没生成导入库</p><h2 id="abseil" tabindex="-1"><a class="header-anchor" href="#abseil"><span>abseil</span></a></h2><p>1.✅ 在官网基础上 本来想用toolchain.cmake脚本设置这些参数发现不行总是失败</p><div class="language-powershell" data-ext="powershell" data-title="powershell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">cmake .</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">.</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> -</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">G</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Ninja</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> -</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">DCMAKE_CXX_COMPILER</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">D:\\\\workfile\\\\compiler\\\\clang\\\\llvm\\\\bin\\\\clang++.exe</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> -</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">DCMAKE_SYSROOT</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">D:\\\\workfile\\\\compiler\\\\windows-msvc-sysroot</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">  -</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">DCMAKE_BUILD_TYPE</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Release </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">DCMAKE_CXX_STANDARD</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">23</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> -</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">DCMAKE_CXX_FLAGS</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">--target=x86_64-windows-msvc --sysroot=D:/workfile/compiler/windows-msvc-sysroot -fuse-ld=lld</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre></div>`,21)]))}const e=i(h,[["render",k],["__file","index.html.vue"]]),d=JSON.parse('{"path":"/article/y019uwz3/","title":"安装c++常见库","lang":"zh-CN","frontmatter":{"title":"安装c++常见库","createTime":"2025/05/13 23:10:45","permalink":"/article/y019uwz3/","description":"我的工具链比较特殊 使用clang 和 微软的STL标准库 系统跟手动指定链接器使用lld 构建系统用ninja boost 1.在boost页面下载源码,解压 2.点击booststrap.bat执行脚本，生成b2.exe 3.执行命令行中执行 因为cmake冲突我还手动把库里所有clang21 改为clangw21 prefix:指定安装路径 wi...","head":[["meta",{"property":"og:url","content":"https://github.com/Yuzhiy05/Yuzhiy05.github.io/article/y019uwz3/"}],["meta",{"property":"og:title","content":"安装c++常见库"}],["meta",{"property":"og:description","content":"我的工具链比较特殊 使用clang 和 微软的STL标准库 系统跟手动指定链接器使用lld 构建系统用ninja boost 1.在boost页面下载源码,解压 2.点击booststrap.bat执行脚本，生成b2.exe 3.执行命令行中执行 因为cmake冲突我还手动把库里所有clang21 改为clangw21 prefix:指定安装路径 wi..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-11-24T16:06:03.000Z"}],["meta",{"property":"article:modified_time","content":"2025-11-24T16:06:03.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"安装c++常见库\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-11-24T16:06:03.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"boost","slug":"boost","link":"#boost","children":[]},{"level":2,"title":"abseil","slug":"abseil","link":"#abseil","children":[]}],"readingTime":{"minutes":4.08,"words":1224},"git":{"createdTime":1747582810000,"updatedTime":1764000363000,"contributors":[{"name":"ImoutoCon1999","email":"ImoutoCon1999@outlook.com","commits":6}]},"autoDesc":true,"filePathRelative":"tools/安装c++常见库.md","categoryList":[{"id":"4a9315","sort":10001,"name":"tools"}],"bulletin":false}');export{e as comp,d as data};
